# MQ 基础

[TOC]

## 1. MQ 概念

### 1.1概念

#### a. 消息

消息是信息载体。

#### b. 消息协议

为了让消息的参与者(发送者与接收者)能够理解消息所承载的信息，需要按照一定的更是描述信息，这种统一的格式称为消息协议。

消息的发送者明白如何创建信息，消息的接收者明白如何理解消息。

#### c. 通信方式

发送者与接收者的通信方式有两种：

- **即时消息通讯**

消息发送者发送消息后，消息接收者立即就接收到。

这种方式的实现方式之一为 RPC。

- **延时消息通讯**

消息发送者发送消息后，首先进入容器进行临时存储，到达某种条件后，再由容器发送到接收端。

这个容器的的实现方式之为消息队列。

### 1.2 应用场景

#### a. 异步处理

#### b. 应用解耦

#### c. 削峰填谷

#### d. 日志处理

#### e. 消息通信

### 1.3 消息模式

#### a. P2P 模式

`P2P 模式`中包含3种角色：`发送者(Sender)`、`接收者(Receiver)`、`消息队列(Queue)`。

消息发送者发送消息到消息队列，只能被一个消息接收者消费。

#### b. Pub/Sub 模式

`Pub/Sub 模式`中包含3种角色：`主题(Topic)`、`发布者(Publisher)`、`订阅者(Subscriber)`。

多个消息发布者将消息发送到指定主题，多个订阅者可以订阅该主题，从而消费消息。



