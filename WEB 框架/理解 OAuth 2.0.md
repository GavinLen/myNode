# Oauth 2.0

[TOC]

![OAthou Logo](../images/oauth-2-sm.png)

> OAuth 是一个关于授权的开放网络协议，应用广泛，目前的版本为 2.0，文档为[RFC 6749](http://www.rfcreader.com/#rfc6749)

## 1. 概述

### 1.1 应用场景



### 1.2 名词

在`OAuth 2.0`中常用的名词如下所示：

#### a. 客户端 

`Third-party application`，第三方应用程序，指调用服务的应用。

#### b. 服务提供商

`HTTP service`，HTTP 服务提供商，指提供服务的应用。

#### c. 资源所有者

`Resource Owner`，资源拥有者，指操作的用户。

#### d. 用户代理



#### e. 认证服务器

#### f. 资源服务器



### 1.3 OAuth 的思路

`OAuth`在`客户端`与`服务提供商`之间，设置了一个`授权层（authorization layer）`。"客户端"不能直接登录"服务提供商"，只能登录授权层，以此将用户与客户端区分开来。"客户端"登录授权层所用的令牌（token），与用户的密码不同。用户可以在登录的时候，指定授权层令牌的权限范围和有效期。"客户端"登录授权层以后，"服务提供商"根据令牌的权限范围和有效期，向"客户端"开放用户储存的资料。

### 1.4 运行流程图

![OAuth 运行流程图](../images/bg2014051203.png)

### 1.5 客户端授权模式

`OAuth 2.0`定义了四种授权方式：

- **授权模式**

`授权码模式(authorization code)`是功能最完整、流程最严密的授权模式，它的特点就是通过客户端的后台服务器，与"服务提供商"的认证服务器进行互动。

![OAuth 2.0 授权模式流程图](../images/bg2014051204.png)

步骤：

(A):用户访问客户端，后者将前者导向认证服务器。

(B):用户选择是否给予客户端授权。

(C):假设用户给予授权，认证服务器将用户导向客户端事先指定的"重定向URI"(redirection URI)，同时附上一个授权码。

(D):客户端收到授权码，附上早先的"重定向URI"，向认证服务器申请令牌。这一步是在客户端的后台的服务器上完成的，对用户不可见。

(E):认证服务器核对了授权码和重定向URI，确认无误后，向客户端发送访问令牌（access token）和更新令牌（refresh token）。

- **简化模式**
- **密码模式**
- **客户端模式**
- 

## 2. 应用

## 参考文档

1.[理解OAuth 2.0](http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html)

